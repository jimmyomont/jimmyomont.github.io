const Sakura=function(e,t){if(void 0===e)throw new Error("Aucun selecteur specifie. Definissez un element.");this.el=document.querySelector(e);var a,r;function i(e){return e[Math.floor(Math.random()*e.length)]}function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}this.paramètres=(a={className:"sakura",fallSpeed:2,maxSize:14,minSize:10,delay:300,colors:[{gradientColorStart:"rgba(1, 157, 142, 0.5)",gradientColorEnd:"rgba(1, 157, 142, 0.5)",gradientColorDegree:120}]},r=t,Object.keys(a).forEach((e=>{r&&Object.prototype.hasOwnProperty.call(r,e)&&(a[e]=r[e])})),a),this.el.style.overflowX="hidden";const o=["webkit","moz","MS","o",""];function s(e,t,a){for(let r=0;r<o.length;r+=1){let i=t;o[r]||(i=t.toLowerCase()),e.addEventListener(o[r]+i,a,!1)}}function l(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}this.creerPetale=()=>{this.el.dataset.sakuraAnimId&&setTimeout((()=>{window.requestAnimationFrame(this.creerPetale)}),this.paramètres.delay);const e=["sway-0","sway-1","sway-2","sway-3","sway-4","sway-5","sway-6","sway-7","sway-8"],t=i(["blow-soft-left","blow-medium-left","blow-soft-right","blow-medium-right"]),a=i(e),r=(.007*document.documentElement.clientHeight+Math.round(5*Math.random()))*this.paramètres.fallSpeed,o=[`fall ${r}s linear 0s 1`,`${t} ${(r>30?r:30)-20+n(0,20)}s linear 0s infinite`,`${a} ${n(2,4)}s linear 0s infinite`].join(", "),m=document.createElement("div");m.classList.add(this.paramètres.className);const d=n(this.paramètres.minSize,this.paramètres.maxSize),h=d-Math.floor(n(0,this.paramètres.minSize)/3),c=i(this.paramètres.colors);m.style.background=`linear-gradient(${c.gradientColorDegree}deg, ${c.gradientColorStart}, ${c.gradientColorEnd})`,m.style.webkitAnimation=o,m.style.animation=o,m.style.borderRadius=`${n(this.paramètres.maxSize,this.paramètres.maxSize+Math.floor(10*Math.random()))}px ${n(1,Math.floor(h/4))}px`,m.style.height=`${d}px`,m.style.left=Math.random()*document.documentElement.clientWidth-100+"px",m.style.marginTop=-(Math.floor(20*Math.random())+15)+"px",m.style.width=`${h}px`,s(m,"AnimationEnd",(()=>{l(m)||m.remove()})),s(m,"AnimationIteration",(()=>{l(m)||m.remove()})),this.el.appendChild(m)},this.el.setAttribute("data-sakura-anim-id",window.requestAnimationFrame(this.creerPetale))};Sakura.prototype.start=function(){if(this.el.dataset.sakuraAnimId)throw new Error("Sakura est dejà en cours d'execution.");this.el.setAttribute("data-sakura-anim-id",window.requestAnimationFrame(this.creerPetale))},Sakura.prototype.stop=function(e=!1){const t=this.el.dataset.sakuraAnimId;t&&(window.cancelAnimationFrame(t),this.el.setAttribute("data-sakura-anim-id","")),e||setTimeout((()=>{const e=document.getElementsByClassName(this.paramètres.className);for(;e.length>0;)e[0].parentNode.removeChild(e[0])}),this.paramètres.delay+50)};
//# sourceMappingURL=index.cab65f4c.js.map
